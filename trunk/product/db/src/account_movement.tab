create table ACCOUNT_MOVEMENT
(
  ID           NUMBER(10) not null,
  CLIENT_ID    NUMBER(10) not null,
  POSTING_DATE DATE not null,
  ACCDOC_ID    NUMBER(10) not null,
  ACCDOCLIN_ID NUMBER(10) not null,
  CR_ACCT      VARCHAR2(32) not null,
  DB_ACCT      VARCHAR2(32) not null,
  CR_AMOUNT    NUMBER(22,6) default 0 not null,
  DB_AMOUNT    NUMBER(22,6) default 0 not null,
  CREATEDON    DATE not null,
  CREATEDBY    VARCHAR2(16) not null
)
;
comment on table ACCOUNT_MOVEMENT
  is 'Account movements (Code: ACCTMVM)';
alter table ACCOUNT_MOVEMENT
  add constraint PK_ACCTMVM primary key (ID);
alter table ACCOUNT_MOVEMENT
  add constraint FK_ACCTMVM_ACCDOC foreign key (ACCDOC_ID)
  references ACCOUNTING_DOC (ID);
alter table ACCOUNT_MOVEMENT
  add constraint FK_ACCTMVM_ACCDOCLIN foreign key (ACCDOCLIN_ID)
  references ACCOUNTING_DOC_LINE (ID);
alter table ACCOUNT_MOVEMENT
  add constraint FK_ACCTMVM_ACCOUNT_CR foreign key (CLIENT_ID, CR_ACCT)
  references ACCOUNT (CLIENT_ID, ACCOUNT);
alter table ACCOUNT_MOVEMENT
  add constraint FK_ACCTMVM_ACCOUNT_DB foreign key (CLIENT_ID, DB_ACCT)
  references ACCOUNT (CLIENT_ID, ACCOUNT);

