create table ACCOUNTING_DOC
(
  ID             NUMBER(10) not null,
  CLIENT_ID      NUMBER(10) not null,
  ACCPERIOD_NAME VARCHAR2(32) not null,
  DOC_NO         NUMBER(10) not null,
  DOC_DATE       DATE not null,
  BASEDOC_TYPE   VARCHAR2(32),
  BASEDOC_NO     VARCHAR2(32),
  BASEDOC_DATE   DATE,
  BASEDOC_ID     NUMBER(10),
  NOTES          VARCHAR2(255),
  IS_GENERATED   CHAR(1) default 'N' not null,
  IS_INSERTED    CHAR(1) default 'N' not null,
  IS_POSTED      CHAR(1) default 'N' not null,
  CREATEDON      DATE not null,
  CREATEDBY      VARCHAR2(16) not null,
  MODIFIEDON     DATE not null,
  MODIFIEDBY     VARCHAR2(16) not null,
  POSTEDON       DATE,
  POSTEDBY       VARCHAR2(16)
)
;
comment on table ACCOUNTING_DOC
  is 'Accounting document header (Code: ACCDOC)';
comment on column ACCOUNTING_DOC.ACCPERIOD_NAME
  is 'Accounting period id this document belongs to.';
comment on column ACCOUNTING_DOC.DOC_NO
  is 'Acccounting document number.';
comment on column ACCOUNTING_DOC.DOC_DATE
  is 'Acccounting document date.';
comment on column ACCOUNTING_DOC.BASEDOC_TYPE
  is 'Type of the base document';
comment on column ACCOUNTING_DOC.BASEDOC_NO
  is 'Base document number';
comment on column ACCOUNTING_DOC.BASEDOC_DATE
  is 'Base document date';
comment on column ACCOUNTING_DOC.BASEDOC_ID
  is 'Base document id';
comment on column ACCOUNTING_DOC.IS_GENERATED
  is 'Whether is generated or created manually';
comment on column ACCOUNTING_DOC.IS_INSERTED
  is 'Document fully introduced in system, ready to be checked and posted.';
comment on column ACCOUNTING_DOC.IS_POSTED
  is 'Checked and approved to be correct. By posting an accounting doc it becomes visible in journals';
comment on column ACCOUNTING_DOC.POSTEDON
  is 'Posting date';
alter table ACCOUNTING_DOC
  add constraint PK_ACCDOC primary key (ID);
alter table ACCOUNTING_DOC
  add constraint FK_ACCDOC_ACCPERIOD foreign key (CLIENT_ID, ACCPERIOD_NAME)
  references ACCOUNTING_PERIOD (CLIENT_ID, NAME);

