create table ACCOUNTING_PERIOD
(
  ID               NUMBER(10) not null,
  CLIENT_ID        NUMBER(10) not null,
  ACCYEAR          VARCHAR2(32) not null,
  NAME             VARCHAR2(32) not null,
  STARTDATE        DATE not null,
  ENDDATE          DATE not null,
  CLOSED           CHAR(1) default 'N' not null,
  CREATEDON        DATE default sysdate not null,
  CREATEDBY        VARCHAR2(16) default user not null,
  MODIFIEDON       DATE default sysdate not null,
  MODIFIEDBY       VARCHAR2(16) default user not null,
  PREV_PERIOD_NAME VARCHAR2(32),
  NOTES            VARCHAR2(255),
  PERIODTYPE       VARCHAR2(1),
  PROCESSING       VARCHAR2(1),
  OPENED           CHAR(1) default 'N' not null
)
;
comment on table ACCOUNTING_PERIOD
  is 'Accounting periods (Code: ACCPERIOD)';
alter table ACCOUNTING_PERIOD
  add constraint PK_ACCPERIOD primary key (ID);
alter table ACCOUNTING_PERIOD
  add constraint UK_ACCPERIOD unique (CLIENT_ID, NAME);
alter table ACCOUNTING_PERIOD
  add constraint FK_ACCPERIOD_ACCYEAR foreign key (CLIENT_ID, ACCYEAR)
  references ACCOUNTING_YEAR (CLIENT_ID, NAME);
alter table ACCOUNTING_PERIOD
  add constraint CHK_ACCPERIOD_CLOSED
  check (CLOSED IN ('Y','N'));
alter table ACCOUNTING_PERIOD
  add constraint CHK_ACCPERIOD_OPENED
  check (OPENED IN ('Y','N'));

