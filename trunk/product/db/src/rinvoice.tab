create table RINVOICE
(
  ID               NUMBER(10) not null,
  DOC_NO           VARCHAR2(32) not null,
  DOC_DATE         DATE not null,
  CLIENT_ID        NUMBER(10) not null,
  DOC_TYPE         VARCHAR2(16) not null,
  DOC_CURRENCY     VARCHAR2(4) not null,
  TOTAL_NET_AMOUNT NUMBER(22,6) not null,
  TOTAL_TAX_AMOUNT NUMBER(22,6) not null,
  TOTAL_AMOUNT     NUMBER(22,6) not null,
  CREATEDON        DATE default sysdate not null,
  CREATEDBY        VARCHAR2(16) default user not null,
  MODIFIEDON       DATE default sysdate not null,
  MODIFIEDBY       VARCHAR2(16) default user not null,
  ISSUER_ID        NUMBER(10) not null,
  RECEIVER_ID      NUMBER(10) not null,
  DUE_DATE         DATE,
  IS_INSERTED      CHAR(1) default 'N' not null,
  IS_PAYABLE       CHAR(1) default 'N' not null,
  IS_PAYED         CHAR(1) default 'N' not null,
  IS_POSTED        CHAR(1) default 'N' not null,
  ACCT             VARCHAR2(16) not null,
  POSTEDON         DATE,
  POSTEDBY         VARCHAR2(16),
  ACCDOC_ID        NUMBER(10),
  REF_RINVOICE_ID  NUMBER(10),
  NOTES            VARCHAR2(400),
  INSERTEDBY       VARCHAR2(16),
  INSERTEDON       DATE
)
;
comment on table RINVOICE
  is 'External invoice issued by suppliers on purchases (Code: RINV)';
comment on column RINVOICE.IS_INSERTED
  is 'Document is fully registered in system and checked to be correct. Must set this flag before further processing.';
comment on column RINVOICE.IS_PAYABLE
  is 'Approved to be payed';
comment on column RINVOICE.IS_PAYED
  is 'Is payed';
comment on column RINVOICE.IS_POSTED
  is 'Posted as accounting doc.';
alter table RINVOICE
  add constraint PK_RINV primary key (ID);
alter table RINVOICE
  add constraint FK_RINV_ACCDOC foreign key (ACCDOC_ID)
  references ACCOUNTING_DOC (ID);
alter table RINVOICE
  add constraint FK_RINV_BPARTNER_1 foreign key (ISSUER_ID)
  references BPARTNER (ID);
alter table RINVOICE
  add constraint FK_RINV_BPARTNER_2 foreign key (RECEIVER_ID)
  references BPARTNER (ID);
alter table RINVOICE
  add constraint FK_RINV_CLIENT foreign key (CLIENT_ID)
  references CLIENT (ID);

